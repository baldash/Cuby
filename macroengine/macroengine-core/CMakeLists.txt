cmake_minimum_required(VERSION 3.8)

include_directories(..)

set(BUILD_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/../.lib)

add_library(macroengine SHARED utl/BitMask/BitMask.hpp utl/BitMask/BitMask.cpp log/log.hpp log/Error/Error.cpp log/Error/Error.hpp log/macros/macros_log.hpp log/Log/Log.cpp log/Log/Log.hpp log/Warning/Warning.cpp log/Warning/Warning.hpp file/IFile/IFile.hpp file/File/File.hpp file/File/File.cpp Object/Object.hpp log/Dump/Dump.cpp log/Dump/Dump.hpp parser/AParser/AParser.hpp parser/IParser/IParser.hpp parser/AParser/AParser.cpp parser/ini/IniParser/IniParser.cpp parser/ini/IniParser/IniParser.hpp parser/ini/IniScope/IniScope.cpp parser/ini/IniScope/IniScope.hpp configuration/EntityRegister/EntityRegister.cpp configuration/EntityRegister/EntityRegister.hpp utl/macros/macros_attributes.hpp configuration/static/build_instance.hpp macroengine-core.hpp configuration/Configuration/Configuration.cpp configuration/Configuration/Configuration.hpp core/Core/Core.cpp core/Core/Core.hpp configuration/Environment/Environment.cpp configuration/Environment/Environment.hpp configuration/macros/macros_configuration.hpp configuration/configuration.hpp core/global/g_core.hpp utl/macros/macros_misc.hpp Object/Object.cpp entity/Entity/Entity.cpp entity/Entity/Entity.hpp entity/property/enum/e_property.hpp entity/property/Collidable/Collidable.cpp entity/property/Collidable/Collidable.hpp entity/property/IProperty/IProperty.hpp entity/component/Collidable/Collidable.cpp entity/component/Collidable/Collidable.hpp entity/AEntity/AEntity.cpp entity/AEntity/AEntity.hpp entity/property/Collidable/Collidable.cpp entity/property/Collidable/Collidable.hpp entity/component/Drawable/Drawable.cpp entity/component/Drawable/Drawable.hpp entity/property/Drawable/Drawable.hpp entity/IEntity/IEntity.hpp entity/property/Movable/Movable.cpp entity/property/Movable/Movable.hpp entity/property/Controllable/Controllable.cpp entity/property/Controllable/Controllable.hpp entity/component/Controllable/Controllable.cpp entity/component/Controllable/Controllable.hpp entity/component/Movable/Movable.hpp entity/component/Movable/Movable.cpp entity/component/AComponent/AComponent.hpp exception/BadPermissionException/BadPermissionException.cpp exception/BadPermissionException/BadPermissionException.hpp configuration/strings/StringBuilder/StringBuilder.cpp configuration/strings/StringBuilder/StringBuilder.hpp configuration/strings/StringContent/StringContent.hpp configuration/strings/StringContent/StringContent.cpp utl/strings.hpp configuration/strings/macros/macros_strings.hpp configuration/macros/macros_callable.hpp utl/macros/macros_definitions.hpp core/global/g_core.cpp controller/GeneralController/GeneralController.cpp controller/GeneralController/GeneralController.hpp controller/AController/AController.hpp controller/component/CollidableController/CollidableController.cpp controller/component/CollidableController/CollidableController.hpp entity/property/property.hpp utl/types.hpp controller/component/ControllableController/ControllableController.cpp controller/component/ControllableController/ControllableController.hpp controller/component/DrawableController/DrawableController.cpp controller/component/DrawableController/DrawableController.hpp controller/component/MovableController/MovableController.cpp controller/component/MovableController/MovableController.hpp controller/Renderer/Renderer.cpp controller/Renderer/Renderer.hpp utl/Position/Position.hpp utl/Position/Position.cpp clock/Clock/Clock.cpp clock/Clock/Clock.hpp clock/Time/Time.cpp clock/Time/Time.hpp exception/UnknownClockDelayIDException/UnknownClockDelayIDException.cpp exception/UnknownClockDelayIDException/UnknownClockDelayIDException.hpp exception/exception.hpp exception/AlreadyDefinedEntityIDException/AlreadyDefinedEntityIDException.cpp exception/AlreadyDefinedEntityIDException/AlreadyDefinedEntityIDException.hpp entity/property/Factory/Factory.cpp entity/property/Factory/Factory.hpp entity/component/Factory/Factory.cpp entity/component/Factory/Factory.hpp graphics/drawable/animation/Animation/Animation.cpp graphics/drawable/animation/Animation/Animation.hpp graphics/utl/AnimationData/AnimationData.hpp utl/Dimensions/Dimensions.hpp entity/property/Scriptable/Scriptable.cpp entity/property/Scriptable/Scriptable.hpp entity/component/Scriptable/Scriptable.cpp entity/component/Scriptable/Scriptable.hpp controller/component/ScriptableController/ScriptableController.cpp controller/component/ScriptableController/ScriptableController.hpp exception/NoCurrentAnimationSelectedException/NoCurrentAnimationSelectedException.cpp exception/NoCurrentAnimationSelectedException/NoCurrentAnimationSelectedException.hpp utl/vector/VectorF/VectorF.hpp utl/vector/VectorF/VectorF.cpp exception/UnknownAnimationIDException/UnknownAnimationIDException.hpp exception/UnknownAnimationIDException/UnknownAnimationIDException.cpp exception/UnknownAnimationNameException/UnknownAnimationNameException.hpp exception/UnknownAnimationNameException/UnknownAnimationNameException.cpp exception/UnknownViewIDException/UnknownViewIDException.hpp exception/UnknownViewIDException/UnknownViewIDException.cpp exception/UnknownViewNameException/UnknownViewNameException.hpp exception/UnknownViewNameException/UnknownViewNameException.cpp
        exception/UnknownKeyboardActionNameException/UnknownKeyboardActionNameException.hpp exception/UnknownKeyboardActionNameException/UnknownKeyboardActionNameException.cpp
        exception/UnknownKeyboardActionIDException/UnknownKeyboardActionIDException.hpp exception/UnknownKeyboardActionIDException/UnknownKeyboardActionIDException.cpp controller/event/EventController/EventController.cpp controller/event/EventController/EventController.hpp controller/event/keyboard/KeyboardData/KeyboardData.hpp controller/event/keyboard/KeyboardActionParams/KeyboardActionParams.hpp controller/event/mouse/MouseActionParams/MouseActionParams.hpp controller/event/mouse/MouseButtonData/MouseButtonData.hpp controller/event/mouse/MouseMoveData/MouseMoveData.hpp entity/property/enum/e_subproperty.hpp graphics/drawable/sprite/Sprite/Sprite.cpp graphics/drawable/sprite/Sprite/Sprite.hpp graphics/drawable/sprite/SpriteWrapper/SpriteWrapper.cpp graphics/drawable/sprite/SpriteWrapper/SpriteWrapper.hpp graphics/drawable/text/Text/Text.cpp graphics/drawable/text/Text/Text.hpp graphics/drawable/animation/AnimationWrapper/AnimationWrapper.cpp graphics/drawable/animation/AnimationWrapper/AnimationWrapper.hpp configuration/EntityIDGenerator/EntityIDGenerator.cpp configuration/EntityIDGenerator/EntityIDGenerator.hpp entity/component/utl/ScriptableCallableParams/ScriptableCallableParams.hpp configuration/game/GameWindowConfiguration/GameWindowConfiguration.hpp configuration/game/GameConfiguration/GameConfiguration.hpp configuration/game/GameConfiguration/GameConfiguration.cpp configuration/game/GameMiscConfiguration/GameMiscConfiguration.hpp configuration/game/GameWindowConfiguration/GameWindowConfiguration.cpp configuration/game/AGameConfiguration/AGameConfiguration.cpp configuration/game/AGameConfiguration/AGameConfiguration.hpp configuration/game/GameMiscConfiguration/GameMiscConfiguration.cpp graphics/utl/TextEntry/TextEntry.hpp graphics/utl/FontEntry/FontEntry.hpp graphics/drawable/ADrawableHandler/ADrawableHandler.cpp graphics/drawable/ADrawableHandler/ADrawableHandler.hpp graphics/drawable/shape/RectangleShape/RectangleShape.cpp graphics/drawable/shape/RectangleShape/RectangleShape.hpp utl/Dimensions/Dimensions.cpp graphics/drawable/shape/ShapeWrapper/ShapeWrapper.cpp graphics/drawable/shape/ShapeWrapper/ShapeWrapper.hpp graphics/drawable/shape/AShape/AShape.cpp graphics/drawable/shape/AShape/AShape.hpp graphics/drawable/view/ViewWrapper/ViewWrapper.cpp graphics/drawable/view/ViewWrapper/ViewWrapper.hpp graphics/drawable/view/View/View.cpp graphics/drawable/view/View/View.hpp utl/types.hpp graphics/drawable/text/TextWrapper/TextWrapper.hpp graphics/drawable/text/TextWrapper/TextWrapper.cpp exception/UnknownSpriteIDException/UnknownSpriteIDException.cpp exception/UnknownSpriteIDException/UnknownSpriteIDException.hpp exception/UnknownSpriteNameException/UnknownSpriteNameException.cpp exception/UnknownSpriteNameException/UnknownSpriteNameException.hpp exception/BadFormattedStringException/BadFormattedStringException.hpp exception/BadFormattedStringException/BadFormattedStringException.cpp configuration/static/to_identifier.hpp utl/struct/s_identifier/s_identifier.hpp utl/struct/s_identifier/s_identifier.cpp exception/UnknownTextIDException/UnknownTextIDException.cpp exception/UnknownTextIDException/UnknownTextIDException.hpp exception/UnknownTextNameException/UnknownTextNameException.cpp exception/UnknownTextNameException/UnknownTextNameException.hpp exception/UnknownShapeIDException/UnknownShapeIDException.cpp exception/UnknownShapeIDException/UnknownShapeIDException.hpp exception/UnknownShapeNameException/UnknownShapeNameException.cpp exception/UnknownShapeNameException/UnknownShapeNameException.hpp exception/UnknownBoundElementIDException/UnknownBoundElementIDException.cpp exception/UnknownBoundElementIDException/UnknownBoundElementIDException.hpp exception/UnknownBoundElementNameException/UnknownBoundElementNameException.cpp exception/UnknownBoundElementNameException/UnknownBoundElementNameException.hpp utl/exceptions.hpp utl/struct/CallableData/CallableData.hpp configuration/static/find_entity.hpp exception/UnknownEntityIDException/UnknownEntityIDException.cpp exception/UnknownEntityIDException/UnknownEntityIDException.hpp exception/UnknownEntityNameException/UnknownEntityNameException.cpp exception/UnknownEntityNameException/UnknownEntityNameException.hpp exception/InvalidClassInheritanceException/InvalidClassInheritanceException.cpp exception/InvalidClassInheritanceException/InvalidClassInheritanceException.hpp utl/definitions.hpp utl/configuration.hpp build_utl/build_utl.hpp)

add_custom_target(macroengineLibDir ALL COMMAND ${CMAKE_COMMAND} -E make_directory ${BUILD_DIRECTORY})

add_subdirectory(build_utl)
add_subdirectory(arguments-parser)

add_dependencies(macroengine macroengineLibDir findStrings arguments-parser)

set(CMAKE_MODULE_PATH "${PROJECT_SOURCE_DIR}/macroengine-core")

find_package(SFML COMPONENTS graphics window system audio REQUIRED)

set(CMAKE_CXX_FLAGS "-W -Wall -Wextra -g -ggdb3")

set(LIBRARY_OUTPUT_PATH ${BUILD_DIRECTORY})

target_link_libraries(macroengine ${SFML_LIBRARIES})

install(TARGETS macroengine LIBRARY DESTINATION ${INSTALL_DIRECTORY}/lib)
install(DIRECTORY ${BUILD_DIRECTORY}/../macroengine-core/ DESTINATION ${INSTALL_DIRECTORY}/include/macroengine-core FILES_MATCHING PATTERN "*.hpp")
